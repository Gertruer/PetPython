# CandyGame

Это симуляция игры, в которой различные типы игроков соревнуются за конфеты, используя стратегии сотрудничества или обмана.

## Описание

В этой игре машина контролирует распределение конфет между двумя игроками в зависимости от их действий. Игроки могут либо сотрудничать, либо обманывать, и получают очки в зависимости от своих действий и действий противника.

### Правила начисления очков:

|  | Оба сотрудничают | 1 обманывает, 2 сотрудничает | 1 сотрудничает, 2 обманывает | Оба обманывают |
|-------|----------|----------|----------|---------|
| Player 1 | +2 candy | +3 candy | -1 candy | 0 candy |
| Player 2 | +2 candy | -1 candy | +3 candy | 0 candy |

## Типы игроков

| Тип поведения | Действия игрока     |
|---------------|---------------------|
| _Cheater_       | Всегда обманывает   |
| _Cooperator_    | Всегда сотрудничает |
| _Copycat_       | Начинает с сотрудничества, затем повторяет ходы противника |
| _Grudger_       | Сотрудничает, пока противник не обманет хотя бы раз, после чего всегда обманывает |
| _Detective_     | Первые четыре раза идет с [Сотрудничать, Обманывать, Сотрудничать, Сотрудничать], и если за эти четыре хода другой игрок обманывает хотя бы один раз — превращается в Подражателя. В противном случае сам переключается на Читера. |
| _Copykitten_    | Более мягкая версия Copycat. Он начинает с сотрудничества, затем в течение первых трех ходов может ответить обманом, если оппонент обманывает. Однако после третьего хода Copykitten становится исключительно сотрудничающим, независимо от действий оппонента. |



## Структура проекта

Проект состоит из следующих основных компонентов:

- Абстрактный базовый класс `Player`
- Пять подклассов `Player`, представляющих различные типы игроков
- Класс `Game` для управления игровым процессом

## Как запустить

Для запуска симуляции выполните основной скрипт Python. Он проведет серию игр (_по умолчанию 10 игр_) между всеми возможными парами игроков и выведет топ-3 победителей.

## Результаты

После выполнения симуляции вы увидите результаты в виде списка трех лучших игроков с их итоговыми очками.

Пример вывода:
```
Топ 3 игрока:
Copycat: 77
Copykitten: 69
Cheater: 66
```

Обратите внимание, что результаты могут немного отличаться в зависимости от количества проведенных игр и случайных факторов в поведении некоторых игроков.

> _Идеей для создания послужила [оригинальная версия игры](https://ncase.me/trust/), по которой была сделана модель._

Проверить покрытие тестов можно с помощью команды `pytest --cov-report html --cov=Candy .\test_game.py; start .\htmlcov\Candy_py.html` (powershell)